@model IEnumerable<FKRM.Application.ViewModels.GroupViewModel>
<table id="groupTable" class="table table-hover table-sm table-dashboard data-table no-wrap mb-0 fs--1 w-100">
    <thead class="bg-200">
        <tr>
            <th class="sort">
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th class="sort">
                @Html.DisplayNameFor(model => model.Area)
            </th>
            <th class="sort">
                @Html.DisplayNameFor(model => model.Branch)
            </th>
            <th class="sort">
                @Html.DisplayNameFor(model => model.AddedDate)
            </th>
            <th class="sort">
                @Html.DisplayNameFor(model => model.ModifiedDate)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody class="bg-white">
        @foreach (var group in Model)
        {
        <tr class="hover-actions-trigger hover-shadow">
            <td>
                @group.Name
            </td>
            <td>
                @group.Area
            </td>
            <td>
                @group.Branch
            </td>
            <td>
                @group.AddedDate
            </td>
            <td>
                @group.ModifiedDate
            </td>
            <td>
                <div class="btn-group btn-group-sm hover-actions r-0 mr-3">
                    <button onclick="jQueryModalGet('/group/OnGetCreateOrEdit?id=@group.Id','ویرایش اطلاعات گروه')" 
                            class="btn btn-light" type="button" data-toggle="tooltip" data-placement="top" title="ویرایش"><span class="fas fa-edit"></span></button>

                    <form id="form_delete_@group.Id" asp-controller="Group" method="post"
                          asp-action="OnPostDelete" asp-route-id="@group.Id" onsubmit="return jQueryModalDelete(this)">
                        <a href="javascript:$('#form_delete_@group.Id').submit();" data-toggle="tooltip" data-placement="top" class="btn btn-light">
                            <i class="fas fa-trash-alt"></i>
                        </a>
                    </form>
                </div>
            </td>
        </tr>
        }
    </tbody>
</table>
<script>
    $(document).ready(function () {
        $("#groupTable").DataTable({
            order: [[2, 'asc'], [1, 'asc']],
            "columnDefs": [
                {
                    "targets": [3],
                    "visible": false,
                    "searchable": false
                },
                {
                    "targets": [4],
                    "visible": false
                }
            ]
        });
    });
</script>
